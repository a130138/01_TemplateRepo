# File Transformation POC

trigger:
- none

pool:
  vmImage: ubuntu-latest

variables:
  #- group: JsonVariableGrp
  - name: resources.location
    value:  'East US 2'
  - name: resources.kind
    value:  'Storage'

steps:
- task: PowerShell@2
  inputs:
    targetType: 'inline'
    script: |
      echo "Print variable values"
      echo "Value: resources.location"
      echo "Value:  resources.kind"
- task: FileTransform@1
  displayName: "File Transform Task"
  inputs:
    folderPath:  '$(System.DefaultWorkingDirectory)/05_FileTransform/'
    targetFiles: 'azuredeploy.json'
    fileType: 'json'

# File transform
# Replace tokens with variable values in XML or JSON configuration files
#- task: FileTransform@1
#  inputs:
    #folderPath: '$(System.DefaultWorkingDirectory)/**/*.zip' 
    #fileType: # Optional. Options: xml, json
    #targetFiles: # Optional